<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scrcpy控制Android &mdash; Cloud Atlas 0.1 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sphinxnotes-strike.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="copyright" title="版权所有" href="../../copyright.html" />
    <link rel="next" title="通过USB Tethering方式共享Android的Internet连接" href="android_usb_tethering.html" />
    <link rel="prev" title="Android(Pixel 3)直连外接显示器(扩展屏幕)" href="android_displayport.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Cloud Atlas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../studio/index.html">Studio Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infrastructure/index.html">Infrastructure Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html">DevOps Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/index.html">Ansible Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kvm/index.html">KVM Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph/index.html">Ceph Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gluster/index.html">Gluster Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ovirt/index.html">oVirt Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/index.html">OpenStack Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kubernetes/index.html">Kubernetes Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rancher/index.html">Rancher Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openshift/index.html">OpenShift Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sql/index.html">SQL Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sqlite/index.html">SQLite Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mysql/index.html">MySQL Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pgsql/index.html">PostgreSQL Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nosql/index.html">NoSQL Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../redis/index.html">Redis Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../network/index.html">Network Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infra_service/index.html">Infra-Service Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infra_search/index.html">Search Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../info_service/index.html">Info-Service Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web/index.html">Web Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../big_data/index.html">Big Data Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../machine_learning/index.html">Machine Learning Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux/index.html">Linux Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel/index.html">Kernel Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance/index.html">Performance Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../distributed_system/index.html">Distributed System Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shell/index.html">Shell Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../django/index.html">Django Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../javascript/index.html">JavaScript Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nodejs/index.html">Node.js Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../golang/index.html">Go Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../swift/index.html">Swift Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arm/index.html">ARM Atlas</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Android Atlas</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../device/index.html">Android 设备</a></li>
<li class="toctree-l2"><a class="reference internal" href="../startup/index.html">Android 起步</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Android 安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../google/index.html">Android的Google应用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build/index.html">制作 Android 镜像</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Android Hack</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ab_seamless_update.html">A/B无缝系统更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="magisk.html">Magisk</a></li>
<li class="toctree-l3"><a class="reference internal" href="magisk_root_ota.html">Magisk root Android设备并支持OTA更新</a></li>
<li class="toctree-l3"><a class="reference internal" href="pixel_3_chinese_volte.html">配置Pixel 3支持中国运营商VoLTE</a></li>
<li class="toctree-l3"><a class="reference internal" href="pixel_6_volte.html">配置Pixel 6支持VoLTE</a></li>
<li class="toctree-l3"><a class="reference internal" href="change_build_prop.html">修改build.prop文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_busybox.html">Android系统Busybox</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_sshd.html">Android SSH服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="vpn_hotspot.html">VPN Hotspot</a></li>
<li class="toctree-l3"><a class="reference internal" href="androidscreencast.html">AndroidScreencast控制Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_displayport.html">Android(Pixel 3)直连外接显示器(扩展屏幕)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">scrcpy控制Android</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">安装scrcpy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">运行</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">连接</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">窗口配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">文件投递</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">参考</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="android_usb_tethering.html">通过USB Tethering方式共享Android的Internet连接</a></li>
<li class="toctree-l3"><a class="reference internal" href="reverse_tethering.html">Android反向Tethering</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_proxy.html">设置Android Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_pac.html">配置Android Proxy Auto-Config(PAC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_monitor.html">Android手机作为显示器</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_otg.html">Android OTG</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../virtual/index.html">Android 虚拟化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem/index.html">Android 文件系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bliss/index.html">Bliss ROMs / Bliss OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/index.html">Android 开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apps/index.html">Android 应用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mobile_work/index.html">Android 移动工作</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bsd/index.html">BSD Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apple/index.html">Apple Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../windows/index.html">Windows Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../real/index.html">Real Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../management/index.html">Management Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../life/index.html">Life Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutme.html">关于作者</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../donate.html">捐助</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../thanks.html">感谢</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/index.html">附录</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cloud Atlas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Android Atlas</a> &raquo;</li>
          <li><a href="index.html">Android Hack</a> &raquo;</li>
      <li>scrcpy控制Android</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/android/hack/scrcpy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scrcpyandroid">
<span id="scrcpy"></span><h1>scrcpy控制Android<a class="headerlink" href="#scrcpyandroid" title="Permalink to this heading">¶</a></h1>
<p>scrcpy是提供了通过USB或者TCP/IP连接Android设备的应用程序，可以工作在Linux, Windows, macOS上:</p>
<ul class="simple">
<li><p>请谅解(原生，只显示设备屏幕)</p></li>
<li><p>性能(达到30~60fps)</p></li>
<li><p>显示质量(1920x1080或更高)</p></li>
<li><p>低延迟(35~70ms)</p></li>
<li><p>快速启动(小于1s)</p></li>
<li><p>无需root设备</p></li>
</ul>
<p>scrcpy要求Android设备支持API 21(Android 5.0)，并确保设备激活了adb debugging</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/scrcpy.jpg"><img alt="../../_images/scrcpy.jpg" src="../../_images/scrcpy.jpg" style="width: 256.2px; height: 360.0px;" /></a>
</figure>
<section id="id1">
<h2>安装scrcpy<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this heading">¶</a></h3>
<p>在Debian(testing和sid)和Ubuntu(20.04):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span> <span class="n">install</span> <span class="n">scrcpy</span>
</pre></div>
</div>
<p>此外也可通过 snap 包方式安装 <a class="reference external" href="https://snapstats.org/snaps/scrcpy">snap包scrcpy</a></p>
<p>Arch Linux需要通过 <a class="reference internal" href="../../linux/arch_linux/archlinux_aur.html#archlinux-aur"><span class="std std-ref">Arch Linux AUR</span></a> 安装 scrcpy</p>
<p>甚至可以通过 <a class="reference external" href="https://github.com/Genymobile/scrcpy/blob/master/BUILD.md">源代码编译安装scrcpy</a></p>
</section>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>可以直接下载 <a class="reference external" href="https://github.com/Genymobile/scrcpy/releases/download/v1.14/scrcpy-win64-v1.14.zip">scrcpy-win64-v1.14.zip</a> - 请在官网下载最新版本</p></li>
<li><p>或者通过 <a class="reference external" href="https://chocolatey.org/">Chocolatey</a> 安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">choco</span> <span class="n">install</span> <span class="n">scrcpy</span>
<span class="n">choco</span> <span class="n">install</span> <span class="n">adb</span>
</pre></div>
</div>
</li>
<li><p>或者通过 <a class="reference external" href="https://scoop.sh/">Scoop</a> 安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scoop</span> <span class="n">install</span> <span class="n">scrcpy</span>
<span class="n">scoop</span> <span class="n">install</span> <span class="n">adb</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>建议通过 <a class="reference internal" href="../../apple/macos/homebrew.html#homebrew"><span class="std std-ref">Homebrew</span></a> 安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">scrcpy</span>
</pre></div>
</div>
</li>
<li><p>如果系统没有安装adb，则可以安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">cask</span> <span class="n">install</span> <span class="n">android</span><span class="o">-</span><span class="n">platform</span><span class="o">-</span><span class="n">tools</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="id3">
<h2>运行<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>连接Android设备，然后执行:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span>
</pre></div>
</div>
</li>
</ul>
<p>默认情况下，可以通过较低的分辨率来提高信工，例如限制高宽1024:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">size</span> <span class="mi">1024</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">m</span> <span class="mi">1024</span>
</pre></div>
</div>
<ul class="simple">
<li><p>修改bit率</p></li>
</ul>
<p>默认bit率是8Mbps，也可以降低视频bit率，例如降低到2Mbps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">bit</span><span class="o">-</span><span class="n">rate</span> <span class="mi">2</span><span class="n">M</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">b</span> <span class="mi">2</span><span class="n">M</span>
</pre></div>
</div>
<ul class="simple">
<li><p>限制帧数</p></li>
</ul>
<p>例如限制帧数15fps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">fps</span> <span class="mi">15</span>
</pre></div>
</div>
<p>上述限制帧数需要Android 10支持</p>
<ul>
<li><p>截屏</p>
<blockquote>
<div><p>scrcpy –crop 1224:1440:0:0   # 1224x1440 at offset (0,0)</p>
</div></blockquote>
</li>
<li><p>锁定视频方向:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">lock</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">orientation</span> <span class="mi">0</span>   <span class="c1"># natural orientation</span>
<span class="n">scrcpy</span> <span class="o">--</span><span class="n">lock</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">orientation</span> <span class="mi">1</span>   <span class="c1"># 90° counterclockwise</span>
<span class="n">scrcpy</span> <span class="o">--</span><span class="n">lock</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">orientation</span> <span class="mi">2</span>   <span class="c1"># 180°</span>
<span class="n">scrcpy</span> <span class="o">--</span><span class="n">lock</span><span class="o">-</span><span class="n">video</span><span class="o">-</span><span class="n">orientation</span> <span class="mi">3</span>   <span class="c1"># 90° clockwise</span>
</pre></div>
</div>
</li>
<li><p>录屏</p></li>
</ul>
<p>可以在镜像屏幕时候录屏:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">record</span> <span class="n">file</span><span class="o">.</span><span class="n">mp4</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">r</span> <span class="n">file</span><span class="o">.</span><span class="n">mkv</span>
</pre></div>
</div>
<p>要在录屏时候禁止镜像:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">display</span> <span class="o">--</span><span class="n">record</span> <span class="n">file</span><span class="o">.</span><span class="n">mp4</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">Nr</span> <span class="n">file</span><span class="o">.</span><span class="n">mkv</span>
<span class="c1"># interrupt recording with Ctrl+C</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2>连接<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>scrcpy使用adb和设备通讯，而adb可以通过TCP/IP和设备连接</p>
<ul>
<li><p>将设备和电脑连接到相同Wi-Fi</p></li>
<li><p>获取设备IP地址： <code class="docutils literal notranslate"><span class="pre">Settings</span> <span class="pre">=&gt;</span> <span class="pre">About</span> <span class="pre">phone</span> <span class="pre">=&gt;</span> <span class="pre">Status</span></code></p></li>
<li><p>在设备上激活adb over TCP/IP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">tcpip</span> <span class="mi">5555</span>
</pre></div>
</div>
</li>
<li><p>断开设备的USB连接</p></li>
<li><p>通过以下命令以TCP/IP方式连接设备，注意这里DEVICE_IP需要替换成实际IP地址:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">connect</span> <span class="n">DEVICE_IP</span><span class="p">:</span><span class="mi">5555</span>
</pre></div>
</div>
</li>
<li><p>运行scrcpy，可能需要降低比特率:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">bit</span><span class="o">-</span><span class="n">rate</span> <span class="mi">2</span><span class="n">M</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">size</span> <span class="mi">800</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">b2M</span> <span class="o">-</span><span class="n">m800</span>  <span class="c1"># short version</span>
</pre></div>
</div>
</li>
</ul>
<section id="id5">
<h3>多设备连接<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>如果adb显示多个是被，需要指定serial:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">serial</span> <span class="mi">0123456789</span><span class="n">abcdef</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">s</span> <span class="mi">0123456789</span><span class="n">abcdef</span>  <span class="c1"># short version</span>
</pre></div>
</div>
</li>
<li><p>如果设备通过TCP/IP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">serial</span> <span class="mf">192.168.0.1</span><span class="p">:</span><span class="mi">5555</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">s</span> <span class="mf">192.168.0.1</span><span class="p">:</span><span class="mi">5555</span>  <span class="c1"># short version</span>
</pre></div>
</div>
</li>
<li><p>自动启动设备连接，需要使用 <a class="reference external" href="https://github.com/rom1v/autoadb">AutoAdb</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">autoadb</span> <span class="n">scrcpy</span> <span class="o">-</span><span class="n">s</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ssh-tunnel">
<h3>SSH tunnel<a class="headerlink" href="#ssh-tunnel" title="Permalink to this heading">¶</a></h3>
<p>要连接远程设备，可以通过本地 <code class="docutils literal notranslate"><span class="pre">adb</span></code> 客户端连接远程 <code class="docutils literal notranslate"><span class="pre">adb</span></code> 服务器（需要使用相同的adb协议）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">kill</span><span class="o">-</span><span class="n">server</span>    <span class="c1"># kill the local adb server on 5037</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">CN</span> <span class="o">-</span><span class="n">L5037</span><span class="p">:</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5037</span> <span class="o">-</span><span class="n">R27183</span><span class="p">:</span><span class="n">localhost</span><span class="p">:</span><span class="mi">27183</span> <span class="n">your_remote_computer</span>
<span class="c1"># keep this open</span>
</pre></div>
</div>
<p>然后在另一个终端窗口输入:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span>
</pre></div>
</div>
<p>要避免激活远程端口转发，需要强制一个转发连接（注意使用 <code class="docutils literal notranslate"><span class="pre">-L</span></code> 替换 <code class="docutils literal notranslate"><span class="pre">-R</span></code> ):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">kill</span><span class="o">-</span><span class="n">server</span>    <span class="c1"># kill the local adb server on 5037</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">CN</span> <span class="o">-</span><span class="n">L5037</span><span class="p">:</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5037</span> <span class="o">-</span><span class="n">L27183</span><span class="p">:</span><span class="n">localhost</span><span class="p">:</span><span class="mi">27183</span> <span class="n">your_remote_computer</span>
<span class="c1"># keep this open</span>
</pre></div>
</div>
<p>然后在另一个窗口执行:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">adb</span><span class="o">-</span><span class="n">forwrad</span>
</pre></div>
</div>
<p>类似无线连接，可以降低图形质量提高性能:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">-</span><span class="n">b2M</span> <span class="o">-</span><span class="n">m800</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">fps</span> <span class="mi">15</span>
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>窗口配置<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h2>
<section id="id7">
<h3>标题<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<p>默认窗口标题是设备型号，可以修改:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">title</span> <span class="s1">&#39;My device&#39;</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>位置和大小<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<p>初始窗口位置和大小可以指定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">x</span> <span class="mi">100</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">y</span> <span class="mi">100</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">width</span> <span class="mi">800</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">height</span> <span class="mi">600</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>边框<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<p>可以关闭窗口边框:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">borderless</span>
</pre></div>
</div>
</section>
<section id="id10">
<h3>始终在最上面<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<p>可以将scrcpy窗口始终保持在最上面:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">window</span><span class="o">-</span><span class="n">borderless</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3>全屏<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<p>可以在启动时就全屏:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">fullscreen</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">f</span>  <span class="c1"># short version</span>
</pre></div>
</div>
<p>或者通过快捷键切换全屏: <code class="docutils literal notranslate"><span class="pre">Ctrl+f</span></code></p>
</section>
<section id="id12">
<h3>旋转<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<p>窗口可以选装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">rotation</span> <span class="mi">1</span>
</pre></div>
</div>
<p>通过以下值指定选装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span> <span class="n">no</span> <span class="n">rotation</span>
<span class="mi">1</span><span class="p">:</span> <span class="mi">90</span> <span class="n">degrees</span> <span class="n">counterclockwise</span>
<span class="mi">2</span><span class="p">:</span> <span class="mi">180</span> <span class="n">degrees</span>
<span class="mi">3</span><span class="p">:</span> <span class="mi">90</span> <span class="n">degrees</span> <span class="n">clockwise</span>
</pre></div>
</div>
<p>可以通过 <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">←</span></code> (左方向键) 和 <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">→</span></code> (右方向键)</p>
</section>
<section id="id13">
<h3>只读<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h3>
<p>可以禁止控制，即不通过键盘鼠标操作:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">control</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3>显示<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h3>
<p>如果有多个显示器，可以指定显示屏幕:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">display</span> <span class="mi">1</span>
</pre></div>
</div>
<p>以下命令可以显示屏幕id:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">shell</span> <span class="n">dumpsys</span> <span class="n">display</span>   <span class="c1"># search &quot;mDisplayId=&quot; in the output</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3>保持唤醒<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<p>防止设备进入睡眠:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">stay</span><span class="o">-</span><span class="n">awake</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">w</span>
</pre></div>
</div>
</section>
<section id="id16">
<h3>关闭屏幕<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<p>可以在镜像屏幕时关闭设备屏幕:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">turn</span><span class="o">-</span><span class="n">screen</span><span class="o">-</span><span class="n">off</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">S</span>
</pre></div>
</div>
<p>或者通过 <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">o</span></code> 关闭。</p>
<p>也可以恢复屏幕 <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">Shift</span> <span class="pre">+</span> <span class="pre">o</span></code></p>
<p>通常结合避免设备睡眠:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">turn</span><span class="o">-</span><span class="n">screen</span><span class="o">-</span><span class="n">off</span> <span class="o">--</span><span class="n">stay</span><span class="o">-</span><span class="n">awake</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">Sw</span>
</pre></div>
</div>
</section>
<section id="id17">
<h3>绘制过期帧<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<p>默认情况，为了降低延迟，scrcpy总是只绘制最后解码的帧，并丢弃之前的帧。为了强制绘制所有帧（会导致明显的延迟），则使用:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">render</span><span class="o">-</span><span class="n">expired</span><span class="o">-</span><span class="n">frames</span>
</pre></div>
</div>
</section>
<section id="id18">
<h3>显示触摸<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<p>为了演示，通常显示物理触摸（在物理设备上操作）非常有用，这是Android提供的开发者选项:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scrcpy</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">touches</span>
<span class="n">scrcpy</span> <span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
<p>注意，这个只显示物理接触（即手指在设备上操作）。</p>
</section>
<section id="id19">
<h3>输入控制<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>旋转设备屏幕： 按下 <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">r</span></code> 旋转</p></li>
<li><p>复制粘贴:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ctrl</span><span class="o">+</span><span class="n">c</span> <span class="n">copies</span> <span class="n">the</span> <span class="n">device</span> <span class="n">clipboard</span> <span class="n">to</span> <span class="n">the</span> <span class="n">computer</span> <span class="n">clipboard</span><span class="p">;</span>
<span class="n">Ctrl</span><span class="o">+</span><span class="n">Shift</span><span class="o">+</span><span class="n">v</span> <span class="n">copies</span> <span class="n">the</span> <span class="n">computer</span> <span class="n">clipboard</span> <span class="n">to</span> <span class="n">the</span> <span class="n">device</span> <span class="n">clipboard</span> <span class="p">(</span><span class="ow">and</span> <span class="n">pastes</span> <span class="k">if</span> <span class="n">the</span> <span class="n">device</span> <span class="n">runs</span> <span class="n">Android</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">);</span>
<span class="n">Ctrl</span><span class="o">+</span><span class="n">v</span> <span class="n">pastes</span> <span class="n">the</span> <span class="n">computer</span> <span class="n">clipboard</span> <span class="k">as</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">text</span> <span class="n">events</span> <span class="p">(</span><span class="n">but</span> <span class="n">breaks</span> <span class="n">non</span><span class="o">-</span><span class="n">ASCII</span> <span class="n">characters</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id20">
<h3>文字输入<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h3>
<p>有两种输入文字的事件：</p>
<ul class="simple">
<li><p>key events, signaling that a key is pressed or released;</p></li>
<li><p>text events, signaling that a text has been entered.</p></li>
</ul>
</section>
</section>
<section id="id21">
<h2>文件投递<a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h2>
<section id="apk">
<h3>安装APK<a class="headerlink" href="#apk" title="Permalink to this heading">¶</a></h3>
<p>要安装APK，只需要将APK文件拖放到scrcpy窗口就可以。没有视觉反馈，只是在控制台打印日志。</p>
</section>
<section id="id22">
<h3>推送文件到设备<a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h3>
<p>要将文件传输到 <code class="docutils literal notranslate"><span class="pre">/sdcard/</span></code> 目录，只需要将非APK文件拖放到scrcpy窗口。</p>
</section>
<section id="id23">
<h3>音频转发<a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h3>
<p>scrcpy不支持音频转发，需要使用 <a class="reference external" href="https://github.com/rom1v/usbaudio">USBaudio</a> （只支持Linux）。</p>
</section>
</section>
<section id="id24">
<h2>参考<a class="headerlink" href="#id24" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Genymobile/scrcpy">scrcpy官方github</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="android_displayport.html" class="btn btn-neutral float-left" title="Android(Pixel 3)直连外接显示器(扩展屏幕)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="android_usb_tethering.html" class="btn btn-neutral float-right" title="通过USB Tethering方式共享Android的Internet连接" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html"> 版权所有</a> 2018 - now, Huatai Huang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
    <!-- your html code here -->
    <br>
    <p><a href="https://github.com/huataihuang/cloud-atlas/issues">留言和讨论</a>|<a href="https://github.com/huataihuang/cloud-atlas/blob/master/source/donate.rst">请我喝一杯咖啡</a></p>
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>