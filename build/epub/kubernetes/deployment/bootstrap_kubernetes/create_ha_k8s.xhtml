<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>使用kubeadm创建高可用集群</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="kubeadm">
<span id="create-ha-k8s"></span><h1>使用kubeadm创建高可用集群</h1>
<p>正如 <a class="reference internal" href="ha_k8s.xhtml#ha-k8s"><span class="std std-ref">高可用(HA)Kubernetes集群</span></a> 所述，构建Kubernetes高可用集群，以etcd是否独立部署来划分两种不同对HA部署架构：</p>
<ul class="simple">
<li><p>堆叠部署etcd</p></li>
<li><p>独立部署etcd</p></li>
</ul>
<section id="id1">
<h2>负载均衡</h2>
<p>不管采用哪种HA部署方式，都需要使负载均衡来分发worker节点对请求和连接给后端的多个apiserver。请先部署 <a class="reference internal" href="ha_k8s_lb/index.xhtml#ha-k8s-lb"><span class="std std-ref">基于负载均衡的高可用Kubernetes集群</span></a> 实现通过负载均衡VIP访问已经创建的 <a class="reference internal" href="single_master_k8s.xhtml#single-master-k8s"><span class="std std-ref">创建单一控制平面(单master)集群</span></a> ，这样就可以在此基础上扩展部署多Master高可用架构。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>由于负载均衡部署较为复杂，所以单独撰写了 <a class="reference internal" href="ha_k8s_lb/index.xhtml#ha-k8s-lb"><span class="std std-ref">基于负载均衡的高可用Kubernetes集群</span></a> ，请先完成负载均衡部署再继续构建高可用集群。当然，负载均衡不仅仅是我的实践案例 <code class="docutils literal notranslate"><span class="pre">Keepalived+HAProxy</span></code> ，你也可以使用其他软件或硬件负载均衡。</p>
</div>
</section>
<section id="id2">
<h2>不同类型高可用集群部署</h2>
<p>在完成了 <a class="reference internal" href="ha_k8s_lb/index.xhtml#ha-k8s-lb"><span class="std std-ref">基于负载均衡的高可用Kubernetes集群</span></a> 之后，就可以按照不同类型高可用集群分别部署:</p>
<ul class="simple">
<li><p><a class="reference internal" href="ha_k8s_stacked.xhtml#ha-k8s-stacked"><span class="std std-ref">堆叠型管控/etcd节点高可用集群</span></a></p></li>
<li><p><a class="reference internal" href="ha_k8s_external.xhtml#ha-k8s-external"><span class="std std-ref">扩展etcd节点高可用集群</span></a></p></li>
</ul>
</section>
<section id="id3">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/high-availability/">Creating Highly Available clusters with kubeadm</a><span class="link-target"> [https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/high-availability/]</span></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>