<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Raspbian配置静态IP</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="raspbianip">
<span id="raspbian-static-ip"></span><h1>Raspbian配置静态IP</h1>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Raspberry Pi官方提供的Raspbian系统是基于Debian的定制系统，在配置网络上和常用的Ubuntu有一些差异，使用了dhcpcd服务来管理网络。</p>
</div>
<p>Raspberry Pi使用 <code class="docutils literal notranslate"><span class="pre">dhcpcd</span></code> 配置所有网络接口的TCP/IP。这个 dhcpcd服务是倾向于配置all-in-one ZeroConf客户端，功能包括设置每个接口的IP地址，设置网络掩码，配置基于Name Service Switch(NSS)机制的DNS解析。</p>
<p>默认情况下，Raspberry Pi OS尝试通过DHCP配置所有的网络接口，当DHCP失败时则回退到自动分配 169.254.0.0/16 的私有地址。这个特性和其他Linux发行版及Windows类似。</p>
<section id="ip">
<h2>静态IP地址</h2>
<p>如果需要禁用接口自动配置采用静态IP，则配置 <code class="docutils literal notranslate"><span class="pre">/etc/dhcpcd.conf</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="n">eth0</span>
<span class="n">static</span> <span class="n">ip_address</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">6.110</span><span class="o">/</span><span class="mi">24</span>
<span class="n">static</span> <span class="n">routers</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">6.9</span>
<span class="n">static</span> <span class="n">domain_name_servers</span><span class="o">=</span><span class="mf">202.96</span><span class="o">.</span><span class="mf">209.133</span> <span class="mf">202.96</span><span class="o">.</span><span class="mf">209.5</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>这里采用的DNS服务器是上海电信DNS解析服务器，如果你在墙外没有阻碍的话，建议使用Google提供的DNS服务器 <code class="docutils literal notranslate"><span class="pre">8.8.8.8</span></code></p>
</div>
<p>早期的Raspberry Pi系统使用 <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code> 来配置网络接口：如果在该配置文件中存在一个接口，就会覆盖 <code class="docutils literal notranslate"><span class="pre">/etc/dhcpcd.conf</span></code> 的配置。</p>
<p>如果在Raspberry Pi系统中使用图形桌面，则有一个 <code class="docutils literal notranslate"><span class="pre">lxplug-network</span></code> 提供修改 <code class="docutils literal notranslate"><span class="pre">dhcpcd</span></code> 的功能，也包括设置静态IP地址。这个 <code class="docutils literal notranslate"><span class="pre">lxplug-network</span></code> 工具基于 <code class="docutils literal notranslate"><span class="pre">dhcpcd-ui</span></code> 。</p>
</section>
<section id="id1">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.raspberrypi.org/documentation/configuration/tcpip/">Raspberry TCP/IP networking</a><span class="link-target"> [https://www.raspberrypi.org/documentation/configuration/tcpip/]</span></p></li>
<li><p><a class="reference external" href="https://www.ionos.com/digitalguide/server/configuration/provide-raspberry-pi-with-a-static-ip-address/">How to set a Raspberry Pi with a static ip address?</a><span class="link-target"> [https://www.ionos.com/digitalguide/server/configuration/provide-raspberry-pi-with-a-static-ip-address/]</span></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>