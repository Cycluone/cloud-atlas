<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>结合Vim,Tmux,iTerm和Oh-my-Zsh开发环境</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="vim-tmux-itermoh-my-zsh">
<span id="vim-tmux-iterm-zsh"></span><h1>结合Vim,Tmux,iTerm和Oh-my-Zsh开发环境</h1>
<p>我在 <a class="reference internal" href="../../linux/desktop/vim/install_vim.xhtml#install-vim"><span class="std std-ref">Vim安装</span></a> 中花费了不少精力在Linux环境编译适合运行you-complete-me的vim，但是对于我们开发目标其实是非常分散精力的。我一直在尝试能够快速构建一个完善的vim开发环境，作为使用macOS作为桌面的工作者，在Mac环境下可以利用现有的工具来实现。</p>
<section id="iterm">
<h2>iTerm</h2>
<p>作为macOS最佳终端模拟器，提供了结合 <a class="reference internal" href="../../linux/desktop/tmux.xhtml#tmux"><span class="std std-ref">tmux多会话终端管理</span></a> 以及各种便利功能，可以通过 <a class="reference internal" href="homebrew.xhtml#homebrew"><span class="std std-ref">Homebrew</span></a> 快速安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="o">--</span><span class="n">cask</span> <span class="n">iterm2</span>
</pre></div>
</div>
</section>
<section id="vim">
<h2>Vim</h2>
<p>虽然macOS内置了vim，但是版本比较陈旧不适合运行很多高级功能，例如不支持you-complete-me的最新版本，所以我们也通过 <a class="reference internal" href="homebrew.xhtml#homebrew"><span class="std std-ref">Homebrew</span></a> 安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">vim</span>
<span class="c1"># 要安装 you-complete-vim 还需要cmake</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">cmake</span>
</pre></div>
</div>
</section>
<section id="tmux">
<h2>Tmux</h2>
<p>Tmux是一个终端多路管理器，可以同时在一个单一屏幕中管理多个终端会话，常常用来替代 <code class="docutils literal notranslate"><span class="pre">screen</span></code> 实现中断工作环境的自动保持和恢复:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">tmux</span>
</pre></div>
</div>
</section>
<section id="oh-my-zsh">
<h2>Oh-my-Zsh</h2>
<p>zsh已经是macOS推荐的内置shell，Oh-my-zsh提供了定制框架，能够极大提高工作效率:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">zsh</span>
<span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</span>
</pre></div>
</div>
</section>
<section id="id1">
<h2>组合工具</h2>
<p>安装了 Vim,Tmux,iTerm和Oh-my-Zsh 之后，我们把这些工具组合起来使用以便发挥最大效力：</p>
<ul>
<li><p>安装Vundle作为插件管理器:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">VundleVim</span><span class="o">/</span><span class="n">Vundle</span><span class="o">.</span><span class="n">vim</span><span class="o">.</span><span class="n">git</span> <span class="o">~/.</span><span class="n">vim</span><span class="o">/</span><span class="n">bundle</span><span class="o">/</span><span class="n">Vundle</span><span class="o">.</span><span class="n">vim</span>
</pre></div>
</div>
</li>
<li><p>clone Danielshow 提供的Boxsetting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Danielshow</span><span class="o">/</span><span class="n">BoxSetting</span>
<span class="n">cd</span> <span class="n">BoxSetting</span>
</pre></div>
</div>
</li>
<li><p>复制配置文件:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">tmux</span><span class="o">.</span><span class="n">conf</span> <span class="o">~/.</span><span class="n">tmux</span><span class="o">.</span><span class="n">conf</span>
<span class="n">cp</span> <span class="n">vimrc</span> <span class="o">~/.</span><span class="n">vimrc</span>
<span class="n">cp</span> <span class="n">zshrc</span> <span class="o">~/.</span><span class="n">zshrc</span>
</pre></div>
</div>
</li>
</ul>
<p>这里 <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code> 中用户目录配置需要修改成你自己的home目录。</p>
<ul>
<li><p>安装npm（参考 <a class="reference internal" href="../../nodejs/startup/nodejs_dev_env.xhtml#nodejs-dev-env"><span class="std std-ref">Node.js开发环境</span></a> ）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">o</span><span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">nvm</span><span class="o">-</span><span class="n">sh</span><span class="o">/</span><span class="n">nvm</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mf">38.0</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">bash</span>
<span class="n">nvm</span> <span class="n">install</span> <span class="n">node</span>
</pre></div>
</div>
</li>
<li><p>下载spaceVIM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">spaceship</span><span class="o">-</span><span class="n">prompt</span>

<span class="c1"># 这里用户名是 huatai ，请修改成你的名字</span>
<span class="n">ZSH_CUSTOM</span><span class="o">=/</span><span class="n">Users</span><span class="o">/</span><span class="n">huatai</span><span class="o">/.</span><span class="n">oh</span><span class="o">-</span><span class="n">my</span><span class="o">-</span><span class="n">zsh</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">denysdovhan</span><span class="o">/</span><span class="n">spaceship</span><span class="o">-</span><span class="n">prompt</span><span class="o">.</span><span class="n">git</span> <span class="s2">&quot;$ZSH_CUSTOM/themes/spaceship-prompt&quot;</span>

<span class="c1"># 软连接</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="s2">&quot;$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme&quot;</span> <span class="s2">&quot;$ZSH_CUSTOM/themes/spaceship.zsh-theme&quot;</span>
</pre></div>
</div>
</li>
<li><p>修改 <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code> 注释掉一些还没有安装的插件，确保启动终端不再报错</p></li>
<li><p>打开 <code class="docutils literal notranslate"><span class="pre">vim</span></code> ，执行命令:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">PluginInstall</span>
</pre></div>
</div>
</li>
<li><p>如果在编译安装 you-complete-me 时候有些报错则通过以下方式fix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">cmake</span> <span class="n">macvim</span>
<span class="n">cd</span> <span class="o">~/.</span><span class="n">vim</span><span class="o">/</span><span class="n">bundle</span><span class="o">/</span><span class="n">YouCompleteMe</span>
<span class="o">./</span><span class="n">install</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</li>
</ul>
<p>我遇到报错显示我的操作系统是 10.13 但是编译目标确实10.9:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">building</span> <span class="s1">&#39;_watchdog_fsevents&#39;</span> <span class="n">extension</span>
<span class="n">creating</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">huatai</span><span class="o">/.</span><span class="n">vim</span><span class="o">/</span><span class="n">bundle</span><span class="o">/</span><span class="n">youcompleteme</span><span class="o">/</span><span class="n">third_party</span><span class="o">/</span><span class="n">ycmd</span><span class="o">/</span><span class="n">third_party</span><span class="o">/</span><span class="n">watchdog_deps</span><span class="o">/</span><span class="n">watchdog</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="mi">3</span>
<span class="o">...</span>
<span class="o">.../</span><span class="n">watchdog_fsevents</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">191</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span> <span class="n">warning</span><span class="p">:</span> <span class="s1">&#39;kFSEventStreamEventFlagItemCloned&#39;</span> <span class="ow">is</span> <span class="n">only</span>
   <span class="n">available</span> <span class="n">on</span> <span class="n">macOS</span> <span class="mf">10.13</span> <span class="ow">or</span> <span class="n">newer</span> <span class="p">[</span><span class="o">-</span><span class="n">Wunguarded</span><span class="o">-</span><span class="n">availability</span><span class="o">-</span><span class="n">new</span><span class="p">]</span>
<span class="o">...</span>
</pre></div>
</div>
<p>解决的方法可能是手工安装一次 <code class="docutils literal notranslate"><span class="pre">watchdog</span></code> 模块:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">watchdog</span>
</pre></div>
</div>
</section>
<section id="id2">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.codementor.io/&#64;danielshotonwa53/setting-up-vim-tmux-iterm-and-oh-my-zsh-134dvb9u4x">Setting up Vim, Tmux, iTerm and Oh-my-Zsh.</a><span class="link-target"> [https://www.codementor.io/&#64;danielshotonwa53/setting-up-vim-tmux-iterm-and-oh-my-zsh-134dvb9u4x]</span></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>