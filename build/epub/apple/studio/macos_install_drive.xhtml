<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>macOS启动安装U盘</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="macosu">
<span id="macos-install-drive"></span><h1>macOS启动安装U盘</h1>
<p>我的Mac笔记本，操作系统已经是比较过时，当需要升级到最新的macOS系统，当然可以使用系统提供的升级工具一点点升级上去，通常不会出现任何问题。不过，我也有一些应用软件洁癖，对于已经使用了很久，无数次调试把系统搞的有点乱的情况，总是想着重新彻底重新安装一次。</p>
<p>Mac设备支持在线安装操作系统：在按下电源的同时安装 <code class="docutils literal notranslate"><span class="pre">option</span></code> 键，就可以选择无线网络，通过在线方式启动进行安装恢复操作系统，不需要使用传统的安装U盘。这是非常有效的系统抢救恢复操作，不过，苹果会限制你只能安装最近一次升级的最高版本，不会跳到最新的操作系统安装。这种情况下，我为了能够方便反复安装，我采用在App
Store中选择最新操作系统安装升级，但是在下载了安装软件之后，不直接安装(直接安装会在升级后立即清理掉下载的软件安装程序)，而是自己制作启动U盘，然后使用U盘来安装自己的多台设备。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>macOS的不同版本都支持自制启动安装U盘，但是执行的命令有可能有细微差异，例如目录，参数等。详细记录可以参考我以前的一些实践记录 <a class="reference external" href="https://github.com/huataihuang/cloud-atlas-draft/blob/master/develop/mac/create_macos_boot_install_drive.md">创建macOS启动安装U盘</a><span class="link-target"> [https://github.com/huataihuang/cloud-atlas-draft/blob/master/develop/mac/create_macos_boot_install_drive.md]</span> ，本文则仅仅记录最新的 macOS Big Sur Version 11 的安装U盘制作。</p>
</div>
<section id="u">
<h2>制作启动安装U盘</h2>
<ul>
<li><p>使用Disk Utility将U盘格式化成 Mac OS Extended(Jorunaled) 文件系统 - 这里假设格式化磁盘命名为 <code class="docutils literal notranslate"><span class="pre">macos_installer</span></code> ，则后续制作U盘的卷名就是 <code class="docutils literal notranslate"><span class="pre">/Volumes/macos_installer</span></code></p></li>
<li><p>在终端执行以下命令创建启动安装U盘:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">/</span><span class="n">Applications</span><span class="o">/</span><span class="n">Install</span>\ <span class="n">macOS</span>\ <span class="n">Big</span>\ <span class="n">Sur</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Resources</span><span class="o">/</span><span class="n">createinstallmedia</span> \
   <span class="o">--</span><span class="n">volume</span> <span class="o">/</span><span class="n">Volumes</span><span class="o">/</span><span class="n">macos_installer</span> <span class="o">--</span> <span class="o">/</span><span class="n">Applications</span><span class="o">/</span><span class="n">Install</span>\ <span class="n">macOS</span>\ <span class="n">Big</span>\ <span class="n">Sur</span><span class="o">.</span><span class="n">app</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id2">
<h2>修改安全设置</h2>
<p>Mac有可能不允许使用扩展启动磁盘，这样就不能用U盘启动安装。这种情况下需要修改安全配置：</p>
<ul class="simple">
<li><p>重启Mac在启动过程中同时按住 <code class="docutils literal notranslate"><span class="pre">Command-R</span></code> ，这会使Mac进入Recovery模式</p></li>
<li><p>在Recovery模式下，会启动一个 <code class="docutils literal notranslate"><span class="pre">macOS</span> <span class="pre">Utilities</span></code> 窗口，这时你选择 <code class="docutils literal notranslate"><span class="pre">Utilites</span> <span class="pre">=&gt;</span> <span class="pre">Startup</span> <span class="pre">Security</span> <span class="pre">Utility</span></code> 菜单</p></li>
<li><p>在弹出的 <code class="docutils literal notranslate"><span class="pre">Authentication</span> <span class="pre">Needed</span></code> 窗口中输入这台Mac上具有administrator权限的用户账号和密码</p></li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">Startup</span> <span class="pre">Security</span> <span class="pre">Utility</span></code> 窗口，勾选 <code class="docutils literal notranslate"><span class="pre">Allow</span> <span class="pre">booting</span> <span class="pre">from</span> <span class="pre">external</span> <span class="pre">or</span> <span class="pre">removable</span> <span class="pre">media</span></code> ，然后关闭窗口</p></li>
</ul>
</section>
<section id="id3">
<h2>从安装U盘启动</h2>
<ul class="simple">
<li><p>重启Mac，在启动时安装 <code class="docutils literal notranslate"><span class="pre">Option</span></code> 键</p></li>
<li><p>这时会出现 <code class="docutils literal notranslate"><span class="pre">Startup</span> <span class="pre">Manager</span></code> 界面，让你选择启动设备。此时选择外接设备U盘</p></li>
<li><p>Mac就会启动进入Recovery模式，你会看到4个选项，其中就有 <code class="docutils literal notranslate"><span class="pre">Install</span> <span class="pre">macOS</span> <span class="pre">Big</span> <span class="pre">Sur</span></code> ，选择这个选项就可以安装。不过，如果你像我一样，想要抹掉数据干净地重装系统，则在这个安装步骤之前，先选择 <code class="docutils literal notranslate"><span class="pre">Disk</span> <span class="pre">Utility</span></code> 重新格式化一次内部驱动器，然后再选择 <code class="docutils literal notranslate"><span class="pre">install</span> <span class="pre">macOS</span> <span class="pre">Big</span> <span class="pre">Sur</span></code> 。</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>通过抹除主机数据重装系统会导致原先存储在主机中数据全部丢失，所以务必先做好数据备份。最好使用Time Machine做一次完整系统的快照备份，这样即使出现意外也好恢复系统和数据。</p>
</div>
</section>
<section id="id4">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="http://osxdaily.com/2015/09/30/create-os-x-el-capitan-boot-install-drive/">How to Create a OS X El Capitan Boot Installer USB Flash Drive</a><span class="link-target"> [http://osxdaily.com/2015/09/30/create-os-x-el-capitan-boot-install-drive/]</span></p></li>
<li><p><a class="reference external" href="https://9to5mac.com/2018/06/18/how-to-create-a-bootable-macos-mojave-10-14-usb-install-drive-video/">How to create a bootable macOS Mojave 10.14 USB install drive</a><span class="link-target"> [https://9to5mac.com/2018/06/18/how-to-create-a-bootable-macos-mojave-10-14-usb-install-drive-video/]</span></p></li>
<li><p><a class="reference external" href="https://setapp.com/how-to/clean-install-macos-mojave">How to сlean install macOS Mojave 10.14</a><span class="link-target"> [https://setapp.com/how-to/clean-install-macos-mojave]</span></p></li>
<li><p><a class="reference external" href="https://www.macworld.com/article/3566910/how-to-create-a-bootable-macos-big-sur-installer-drive.html">How to create a bootable macOS Big Sur installer drive</a><span class="link-target"> [https://www.macworld.com/article/3566910/how-to-create-a-bootable-macos-big-sur-installer-drive.html]</span></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>