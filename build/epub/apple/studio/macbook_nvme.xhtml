<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>NvMe硬盘升级MacBook Pro SSD</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="nvmemacbook-pro-ssd">
<span id="macbook-nvme"></span><h1>NvMe硬盘升级MacBook Pro SSD</h1>
<p>我在撰写 <a class="reference internal" href="../../index.xhtml#cloud-atlas"><span class="std std-ref">云图 – 云计算图志</span></a> 的实践中，采用的是 <a class="reference internal" href="mbp15_late_2013.xhtml#mbp15-late-2013"><span class="std std-ref">MacBook Pro 15” Late 2013</span></a> 。不过，在2021年初尝试重装macOS时发现安装自检程序已经扫描出存储SMART报错，拒绝安装。</p>
<p>由于2015年MacBook Pro已经使用了 PCIe 2.0x2 存储接口，并且随着macOS升级，已经支持了NVMe存储。所以目前2021年，已经可以采购MVMe存储通过转接卡安装到MacBook中，提升存储性能。</p>
<p>需要注意，苹果的2013-2014年主机和2015年以及之后主机对待休眠方式不同，如果使用NVMe硬盘，早期设备需要防止电脑进入待机状态:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pmset</span> <span class="o">-</span><span class="n">a</span> <span class="n">standby</span> <span class="mi">0</span>
</pre></div>
</div>
<p>设置之后电脑依然可以休眠，但是不会进入Hibernate模式，也就是不会把电脑状态存储到硬盘，完全缓存在内存中。这种模式下电池需要持续供电，所以会缩短电池寿命，并且待机可持续时间也相对较短。不过，对于2015年以及以后的主机不需要这样修改，也就没有这个困扰。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>由于2021年 <code class="docutils literal notranslate"><span class="pre">芯片荒</span></code> 影响，电子芯片设备价格持续高涨，所以我计划把替换工作延期到2022年。目前仅做记录，我准备尝试reset SMART计数来用于Linux安装，不存储重要数据。</p>
<p>如果确实无法使用，我还准备部署无盘运行的云计算，采用 <a class="reference internal" href="../../ceph/index.xhtml#ceph"><span class="std std-ref">Ceph Atlas</span></a> 存储后端来运行虚拟化集群。</p>
</div>
<section id="id1">
<h2>转接卡</h2>
<p>对于MacBook设备，需要使用 Sintech NGFF转M.2 NVMe适配器</p>
</section>
<section id="id2">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.sohu.com/a/414599050_99956743">教程：如何使用NVMe硬盘升级旧款Mac的SSD</a><span class="link-target"> [https://www.sohu.com/a/414599050_99956743]</span></p></li>
<li></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>