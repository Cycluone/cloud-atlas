<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>lm_sensors(Linux监控传感器)</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="lm-sensors-linux">
<span id="lm-sensor"></span><h1>lm_sensors(Linux监控传感器)</h1>
<p>Linux服务器运维时非常重要的一项监控就是服务器内部温度监控。当出现服务器内部温度过高，例如风扇故障，就会导致CPU因温度过高降频，甚至出现死机或者其他数据异常现象。</p>
<p>在Linux中，软件包 <code class="docutils literal notranslate"><span class="pre">lm_sensors</span></code> (即Linux-monitoring sensors)提供了基础工具和驱动来监控CPU温度，电压，湿度和风扇。同时也提供了主板入侵检测(非授权开启机箱)。通过该工具结合监控软件，可以用来发现硬件异常，及时更换受损部件。</p>
<section id="lm-sensors">
<h2>安装lm_sensors</h2>
<ul>
<li><p>Arch linux安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="n">lm_sensors</span>
</pre></div>
</div>
</li>
<li><p>RHEL/CentOS,Fedora:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">lm_sensors</span>
</pre></div>
</div>
</li>
<li><p>Debian, Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">lm</span><span class="o">-</span><span class="n">sensors</span>
</pre></div>
</div>
</li>
<li><p>SUSE/openSUSE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">zypper</span> <span class="ow">in</span> <span class="n">sensors</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id1">
<h2>配置lm_sensors</h2>
<p>安装以后，运行以下命令配置 <code class="docutils literal notranslate"><span class="pre">lm_sensors</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">sensors</span><span class="o">-</span><span class="n">detect</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sensors-detect</span></code> 是一个独立程序用来检测已经安装的硬件以及加载推荐的特定模块。默认的交互回答就是安全的，所以只需要回车接受默认配置就可以。此时会生产一个 <code class="docutils literal notranslate"><span class="pre">/etc/conf.d/lm_sensors</span></code> 配置文件用于 <code class="docutils literal notranslate"><span class="pre">lm_sensors.service</span></code> 服务自动在启动时加载模块。</p>
</section>
<section id="cpu">
<h2>查看CPU温度</h2>
<ul>
<li><p>简单执行以下命令就可以查看Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sensors</span>
</pre></div>
</div>
</li>
</ul>
<p>默认输出的单位是摄氏度，要输出为华氏度，则使用参数 <code class="docutils literal notranslate"><span class="pre">-f</span></code></p>
<ul>
<li><p>为了持续查看温度变化(以下案例每2秒刷新一次)，可以使用命令:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wtach</span> <span class="o">-</span><span class="n">n</span> <span class="mi">2</span> <span class="n">sensors</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>