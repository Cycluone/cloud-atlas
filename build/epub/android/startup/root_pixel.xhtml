<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Root Pixel设备</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="root-pixel">
<span id="id1"></span><h1>Root Pixel设备</h1>
<p>Root自己的Android设备提供了默认情况下无法提供的很多功能。这些特殊的功能包括允许root权限的应用，定制操作系统，以及在recovery模式下刷入特殊文件。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请注意root过程会删除设备上所有数据，所以务必在root之前备份数据!!!</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>手机系统已经采用 <a class="reference internal" href="../install/android_10_pixel_xl.xhtml#android-10-pixel-xl"><span class="std std-ref">在Pixel XL(marlin)上安装Android 10</span></a> 做了全新刷机安装</p>
</div>
<section id="root">
<h2>Root过程</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.android.com/studio/releases/platform-tools">下载Fastboot工具</a><span class="link-target"> [https://developer.android.com/studio/releases/platform-tools]</span> 并解压缩备用</p></li>
<li><p>在手机上访问 <code class="docutils literal notranslate"><span class="pre">Settings</span> <span class="pre">&gt;</span> <span class="pre">Developer</span> <span class="pre">options</span></code> 并激活 OEM unlocking 和 USB debugging</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/enable-usb-debugging.png" src="../../_images/enable-usb-debugging.png" style="width: 400.0px; height: 355.0px;" />
</figure>
<p>如果使用 <code class="docutils literal notranslate"><span class="pre">adb</span> <span class="pre">devices</span></code> 查看设备状态是 <code class="docutils literal notranslate"><span class="pre">unauthorized</span></code> 则需要重新激活一次 <code class="docutils literal notranslate"><span class="pre">USB</span> <span class="pre">debugging</span></code> ，此时连接电脑会提示是否信任，选择信任以后就会授权。</p>
<ul class="simple">
<li><p>下载 <a class="reference external" href="https://twrp.me/google/googlepixelxl.html">TWRP for Pixel XL</a><span class="link-target"> [https://twrp.me/google/googlepixelxl.html]</span> - 这里举例是Pixel XL，你需要根据设备型号来下载对应的TWRP。注意：首次安装TWRP需要同时下载zip文件和img文件，对于已经安装过TWRP，则只需要下载最新zip文件，并使用TWRP来安装zip。</p>
<ul>
<li><p><a class="reference external" href="https://dl.twrp.me/marlin/twrp-installer-3.3.1-3-marlin.zip.html">twrp-installer-3.3.1-3-marlin.zip</a><span class="link-target"> [https://dl.twrp.me/marlin/twrp-installer-3.3.1-3-marlin.zip.html]</span></p></li>
<li><p><a class="reference external" href="https://dl.twrp.me/marlin/twrp-3.3.1-3-marlin.img.html">twrp-3.3.1-3-marlin.img</a><span class="link-target"> [https://dl.twrp.me/marlin/twrp-3.3.1-3-marlin.img.html]</span></p></li>
</ul>
</li>
</ul>
<p>将zip文件传输到手机:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">push</span> <span class="n">twrp</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">marlin</span><span class="o">.</span><span class="n">zip</span> <span class="o">/</span><span class="n">sdcard</span><span class="o">/</span>
</pre></div>
</div>
<p>将img文件保存在当前主机目录下。</p>
<ul>
<li><p>下载 <a class="reference external" href="https://github.com/topjohnwu/Magisk/releases">Magisk ZIP Release</a><span class="link-target"> [https://github.com/topjohnwu/Magisk/releases]</span> 然后传输到手机中:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">push</span> <span class="n">Magisk</span><span class="o">-</span><span class="n">v20</span><span class="o">.</span><span class="mf">3.</span><span class="n">zip</span> <span class="o">/</span><span class="n">sdcard</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p>执行以下命令进入fastboot模式:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">reboot</span> <span class="n">bootloader</span>
</pre></div>
</div>
</li>
<li><p>输入以下命令解锁:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastboot</span> <span class="n">flashing</span> <span class="n">unlock</span>
</pre></div>
</div>
</li>
<li><p>重启手机:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastboot</span> <span class="n">reboot</span>
</pre></div>
</div>
</li>
<li><p>当手机操作系统启动后，再次选择 <code class="docutils literal notranslate"><span class="pre">Settings</span> <span class="pre">&gt;</span> <span class="pre">Developer</span></code> 菜单，然后激活 <code class="docutils literal notranslate"><span class="pre">USB</span> <span class="pre">debuggin</span></code> ，并将手机连接到电脑</p></li>
<li><p>在电脑上执行以下命令以便从TWRP img启动:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastboot</span> <span class="n">boot</span> <span class="n">twrp</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">marlin</span><span class="o">.</span><span class="n">img</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Pixel默认是对系统加密对，挂载系统需要解密，也就是你设置手机锁定保护密码或者图案。</p>
<p>TWRP提示是否修改分区，滑动按钮采用默认方式(修改分区)</p>
</div>
<p>不过，我也遇到了安装TWRP ZIP之后，再次尝试进入Recovery模式失败，所以我后来改为参考 LineageOS 文档，使用命令:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastboot</span> <span class="n">flash</span> <span class="n">boot</span> <span class="n">twrp</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">marlin</span><span class="o">.</span><span class="n">img</span>
</pre></div>
</div>
<p>此时提示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sending</span> <span class="s1">&#39;boot_a&#39;</span> <span class="p">(</span><span class="mi">30961</span> <span class="n">KB</span><span class="p">)</span>                        <span class="n">OKAY</span> <span class="p">[</span>  <span class="mf">0.842</span><span class="n">s</span> <span class="p">]</span>
<span class="n">Writing</span> <span class="s1">&#39;boot_a&#39;</span>                                   <span class="n">OKAY</span> <span class="p">[</span>  <span class="mf">1.209</span><span class="n">s</span> <span class="p">]</span>
<span class="n">Finished</span><span class="o">.</span> <span class="n">Total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">2.261</span><span class="n">s</span>
</pre></div>
</div>
<p>则可能不再需要安装TWRP ZIP</p>
<ul>
<li><p>由于此时已经进入TWRP，点击 <code class="docutils literal notranslate"><span class="pre">Advanced</span> <span class="pre">=&gt;</span> <span class="pre">ADB</span> <span class="pre">Sideload</span></code> 进入sideload模式，就可以通过sideload方式安装 Magisk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">sideload</span> <span class="n">Magisk</span><span class="o">-</span><span class="n">v20</span><span class="o">.</span><span class="mf">3.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
</ul>
<p>安装完重启系统</p>
</section>
<section id="id2">
<h2>以下步骤可能忽略</h2>
<ul class="simple">
<li><p>将手机从电脑上断开USB连接</p></li>
<li><p>点击 <code class="docutils literal notranslate"><span class="pre">Install</span></code> 按钮，然后刷入已经传入到手机中到TWRP ZIP版本</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/install_twrp.png" src="../../_images/install_twrp.png" style="width: 264.5px; height: 400.0px;" />
</figure>
<ul>
<li><p>刷TWRP ZIP自后重启手机</p></li>
<li><p>将手机连接到电脑，再次执行以下命令切换到fastboot状态:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adb</span> <span class="n">reboot</span> <span class="n">bootloader</span>
</pre></div>
</div>
</li>
<li><p>通过音量键上下滚动启动菜单，选择 <code class="docutils literal notranslate"><span class="pre">Recovery</span></code> 则调用TWRP recovery</p></li>
<li><p>进入 TWRP recovery之后，点击 <code class="docutils literal notranslate"><span class="pre">Recovery</span></code> 按钮</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/recovery_install_magisk.png" src="../../_images/recovery_install_magisk.png" style="width: 400.0px; height: 371.0px;" />
</figure>
<ul class="simple">
<li><p>点击 <code class="docutils literal notranslate"><span class="pre">Install</span></code> 并选择刷入 Magisk ZIP文件</p></li>
<li><p>最后点击 <code class="docutils literal notranslate"><span class="pre">Reboot</span></code> 并选择 <code class="docutils literal notranslate"><span class="pre">System</span></code></p></li>
<li><p>此时重启系统后，手机就已经Root了</p></li>
</ul>
</section>
<section id="id3">
<h2>参考</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.online-tech-tips.com/smartphones/how-to-root-a-pixel-xl-2-2xl-3-3xl/">How To Root a Pixel XL, 2, 2XL, 3, &amp; 3XL</a><span class="link-target"> [https://www.online-tech-tips.com/smartphones/how-to-root-a-pixel-xl-2-2xl-3-3xl/]</span></p></li>
<li><p><a class="reference external" href="https://twrp.me/google/googlepixelxl.html">TWRP for Google Pixel XL</a><span class="link-target"> [https://twrp.me/google/googlepixelxl.html]</span></p></li>
<li><p><a class="reference external" href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445">Magisk - a Magic Mask to Alter System Systemless-ly</a><span class="link-target"> [https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445]</span></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>