<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>OpenStack环境软件仓库</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="openstack">
<span id="openstack-env-repo"></span><h1>OpenStack环境软件仓库</h1>
<p>OpenStack通过发行版仓库进行安装，所有节点（包括管控、计算和块存储节点）都需要设置并激活OpenStack软件仓库。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>建议在使用 RDO 软件包(RHEL版本使用RDO进行安装)时候禁止 EPEL 软件仓库，因为 EPEL 更新时会破坏向后兼容性。或者使用 <code class="docutils literal notranslate"><span class="pre">yum-versionlock</span></code> 插件锁定软件包版本。由于我使用CentOS，所以忽略这个设置要求。</p>
</div>
<ul class="simple">
<li><p>CentOS 激活 <code class="docutils literal notranslate"><span class="pre">extras</span></code> 仓库来激活OpenStack仓库，CentOS已经默认包括了 <code class="docutils literal notranslate"><span class="pre">extras</span></code> 仓库，只需要直接安装OpenStack就可以。</p></li>
</ul>
<p>安装对应版本:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="n">centos</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">openstack</span><span class="o">-</span><span class="n">train</span>
</pre></div>
</div>
<ul>
<li><p>RHEL 添加OpenStack软件仓库 (注意：这步只适用于RHEL)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subscription</span><span class="o">-</span><span class="n">manager</span> <span class="n">repos</span> <span class="o">--</span><span class="n">enable</span><span class="o">=</span><span class="n">rhel</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">optional</span><span class="o">-</span><span class="n">rpms</span> \
  <span class="o">--</span><span class="n">enable</span><span class="o">=</span><span class="n">rhel</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">extras</span><span class="o">-</span><span class="n">rpms</span> <span class="o">--</span><span class="n">enable</span><span class="o">=</span><span class="n">rhel</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">rh</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="n">rpms</span>
</pre></div>
</div>
</li>
</ul>
<p>在RHEL上下载并安装 RDO 仓库RPM包激活OpenStack仓库:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">rdoproject</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">repos</span><span class="o">/</span><span class="n">rdo</span><span class="o">-</span><span class="n">release</span><span class="o">.</span><span class="n">rpm</span>
</pre></div>
</div>
<section id="id1">
<h2>安装最后步骤</h2>
<ul>
<li><p>升级所有节点的软件包:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">upgrade</span>
</pre></div>
</div>
</li>
<li><p>安装OpenStack客户端:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">openstackclient</span>
</pre></div>
</div>
</li>
<li><p>RHEL和CentOS默认激活了 SELinux ，则要安装 <code class="docutils literal notranslate"><span class="pre">openstack-selinux</span></code> 软件包来管理OpenStack服务的安全策略:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="n">openstack</span><span class="o">-</span><span class="n">selinux</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>